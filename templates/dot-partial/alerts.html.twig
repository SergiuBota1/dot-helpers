{% set classes = {'error': 'danger', 'info': 'info', 'warning': 'warning', 'success' : 'success'} %}
{% if dismissable not defined %}
    {% set dismissable = false %}
{% endif %}


{% if messages is defined and messages is iterable %}
    {% for namespace in messages|keys %}
        {% if classes[namespace] is defined %}
            <div class="alert alert-{{ classes[namespace] }}" role="alert">
                {% if dismissable %}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span></button>
                {% endif %}
                <ul>
                    {% for message in messages[namespace] %}
                        <li>{{ message }}</li>
                    {% endfor %}
                </ul>
            </div>
        {% endif %}
    {% endfor %}
{% endif %}